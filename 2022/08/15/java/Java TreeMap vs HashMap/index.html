

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="baymax55">
  <meta name="keywords" content="">
  
    <meta name="description" content="TreeMap vs HashMap">
<meta property="og:type" content="article">
<meta property="og:title" content="Java TreeMap vs HashMap">
<meta property="og:url" content="https://baymax55.github.io/2022/08/15/java/Java%20TreeMap%20vs%20HashMap/index.html">
<meta property="og:site_name" content="Baymax55&#39;s Blog">
<meta property="og:description" content="TreeMap vs HashMap">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://baymax55.github.io/img/index_img/java.png">
<meta property="article:published_time" content="2022-08-15T00:38:03.582Z">
<meta property="article:modified_time" content="2022-08-15T01:55:26.700Z">
<meta property="article:author" content="baymax55">
<meta property="article:tag" content="java">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://baymax55.github.io/img/index_img/java.png">
  
  
  
  <title>Java TreeMap vs HashMap - Baymax55&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"baymax55.github.io","root":"/","version":"1.9.0","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"eHrEoB5dKeqkOQe92av9bqEs-MdYXbMMI","app_key":"ldBS29kjWy4gjD9MCWKAWxyi","server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="Baymax55's Blog" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>baymax55</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Java TreeMap vs HashMap"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-08-15 08:38" pubdate>
          2022年8月15日 早上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          7.4k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          62 分钟
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Java TreeMap vs HashMap</h1>
            
              <p class="note note-info">
                
                  
                    本文最后更新于：2022年8月15日 上午
                  
                
              </p>
            
            <div class="markdown-body">
              
              <p>In this tutorial, we are going to focus on the core <strong>differences between the <em>TreeMap</em> and the <em>HashMap</em>.</strong></p>
<p><em>TreeMap</em> and <em>HashMap</em> are quite similar, both are collections that implement the <em>Map</em> interface. But they also have some differences that make one better than the other in some situations. Let’s look at those differences.</p>
<p>Table Of Contents</p>
<ol>
<li><a href="#1-Differences-between-HashMap-and-TreeMap">1. Differences between HashMap and TreeMap</a><ul>
<li>  <a href="#1-1-Class-Hierarchy">1.1. Class Hierarchy</a></li>
<li>  <a href="#1-2-Internal-Implementations">1.2. Internal Implementations</a></li>
<li>  <a href="#1-3-Null-Keys-and-Values">1.3. Null Keys and Values</a></li>
<li>  <a href="#1-4-Functionality">1.4. Functionality</a></li>
<li>  <a href="#1-5-Element-Ordering">1.5. Element Ordering</a></li>
<li>  <a href="#1-6-Performance-Comparison">1.6. Performance Comparison</a></li>
<li>  <a href="#1-7-Memory-Usage">1.7. Memory Usage</a></li>
<li>  <a href="#1-8-Key-Searches">1.8. Key Searches</a></li>
</ul>
</li>
<li> <a href="#2-When-to-use-HashMap-and-TreeMap">2. When to use HashMap and TreeMap</a></li>
<li> <a href="#3-Conclusion">3. Conclusion</a></li>
<li> <a href="#4-References">4. References</a></li>
</ol>
<h2 id="1-Differences-between-HashMap-and-TreeMap"><a href="#1-Differences-between-HashMap-and-TreeMap" class="headerlink" title="1.Differences between HashMap and TreeMap"></a>1.Differences between HashMap and TreeMap</h2><p>Let’s discuss some of the main differences between the two maps.</p>
<h3 id="1-1-Class-Hierarchy"><a href="#1-1-Class-Hierarchy" class="headerlink" title="1.1. Class Hierarchy"></a>1.1. Class Hierarchy</h3><p><em><a target="_blank" rel="noopener" href="https://howtodoinjava.com/java-hashmap/">HashMap</a></em> class extends <em>AbstractMap</em> class and <strong>implements <em>Map</em> interface</strong> whereas <em><a target="_blank" rel="noopener" href="https://howtodoinjava.com/java/collections/treemap-class/">TreeMap</a></em> class extends <em>AbstractMap</em> class and <strong>implements</strong> _<strong>NavigableMap</strong>_ <strong>interface</strong>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// HashMap class declaration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HashMap</span>&lt;K, V&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMap</span>&lt;K, V&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Map</span>&lt;K, V&gt;, Cloneable, Serializable<br><br><span class="hljs-comment">// TreeMap class declaration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeMap</span>&lt;K, V&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMap</span>&lt;K, V&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NavigableMap</span>&lt;K, V&gt;, Cloneable, Serializable<br></code></pre></td></tr></table></figure>

<p><img src="img.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="img_1.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="1-2-Internal-Implementations"><a href="#1-2-Internal-Implementations" class="headerlink" title="1.2. Internal Implementations"></a>1.2. Internal Implementations</h3><ul>
<li>  <em>HashMap</em> internally uses <em><a target="_blank" rel="noopener" href="https://howtodoinjava.com/java/collections/hashtable-class/">HashTable</a></em> and works on the principle of <strong>Hashing</strong>. It contains the buckets in the form of a <em><a target="_blank" rel="noopener" href="https://howtodoinjava.com/java/collections/java-linkedlist-class/">LinkedList</a>,</em> and when there are more than 8 entries in the bucket, then the <em>LinkedList</em> transforms into a <em>Balanced Tree</em> (TreeNodes).</li>
<li>  <em>TreeMap</em> internally uses <strong><em>Red-Black Tree</em>,</strong> a self-balancing <em>Binary Search Tree.</em></li>
</ul>
<h3 id="1-3-Null-Keys-and-Values"><a href="#1-3-Null-Keys-and-Values" class="headerlink" title="1.3. Null Keys and Values"></a>1.3. Null Keys and Values</h3><p><strong><em>TreeMap</em> doesn’t allow a <em>null</em> key</strong> but may contain any number of <em>null</em> values<code>.</code></p>
<p><strong><em>HashMap</em></strong> <strong>allows one null key</strong> (for other <em>null</em> keys, the existing value will simply be overwritten with a new value) and any number of <em>null</em> values.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// Putting null key in TreeMap</span><br>TreeMap&lt;String, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;&gt;();<br><br>map.put(<span class="hljs-literal">null</span>, <span class="hljs-string">&quot;value&quot;</span>);    <span class="hljs-comment">//Exception in thread &quot;main&quot; java.lang.NullPointerException</span><br></code></pre></td></tr></table></figure>

<p><em>TreeMap</em> internally uses <code>compareTo</code>() or <code>compare</code>() method from <em><a target="_blank" rel="noopener" href="https://howtodoinjava.com/java/collections/java-comparable-interface/">Comparable</a></em> &amp; <em><a target="_blank" rel="noopener" href="https://howtodoinjava.com/java/collections/java-comparator/">Comparator</a></em> Interfaces respectively to maintain the order of elements in the map based on the keys and in case of <em>null</em> key, these method throws <strong>‘</strong><em><a target="_blank" rel="noopener" href="https://howtodoinjava.com/java/exception-handling/how-to-effectively-handle-nullpointerexception-in-java/">NullPointerException</a></em><strong>‘.</strong></p>
<h3 id="1-4-Functionality"><a href="#1-4-Functionality" class="headerlink" title="1.4. Functionality"></a>1.4. Functionality</h3><p><strong><em>TreeMap</em> is richer in functionality as compared with <em>HashMap</em>.</strong> Along with the normal methods <code>(get(), put(), remove())</code> of <em>Map</em> Interface, it contains methods from <em>NavigableMap</em> interface as well like <code>pollFirstEntry(), pollLastEntry(), tailMap(), firstKey(), lastKey()</code>, etc. which the <em>HashMap</em> class doesn’t have.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// Creating TreeMap</span><br>TreeMap&lt;String, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;&gt;();<br><br><span class="hljs-comment">// Putting values in TreeMap</span><br>map.put(<span class="hljs-string">&quot;key1&quot;</span>, <span class="hljs-string">&quot;value1&quot;</span>);<br>map.put(<span class="hljs-string">&quot;key2&quot;</span>, <span class="hljs-string">&quot;value2&quot;</span>);<br>map.put(<span class="hljs-string">&quot;key3&quot;</span>, <span class="hljs-string">&quot;value3&quot;</span>);<br><br><span class="hljs-comment">// Printing map</span><br>System.out.println(map);                       <span class="hljs-comment">// Prints &#123;key1=value1, key2=value2, key3=value3&#125;</span><br><br><span class="hljs-comment">// Getting first key from map</span><br>System.out.println(map.firstKey());              <span class="hljs-comment">// Prints key1</span><br><span class="hljs-comment">// Getting last key from map</span><br>System.out.println(map.lastKey());             <span class="hljs-comment">// Prints key3</span><br><br><span class="hljs-comment">// Getting first entry from map</span><br>System.out.println(map.firstEntry());         <span class="hljs-comment">// Prints key1=value1</span><br><span class="hljs-comment">// Polling last entry from map</span><br>System.out.println(map.pollLastEntry());       <span class="hljs-comment">// Prints key3=value3</span><br><br><span class="hljs-comment">// Printing map again</span><br>System.out.println(map);                           <span class="hljs-comment">// Prints &#123;key1=value1, key2=value2&#125;</span><br></code></pre></td></tr></table></figure>


<h3 id="1-5-Element-Ordering"><a href="#1-5-Element-Ordering" class="headerlink" title="1.5. Element Ordering"></a>1.5. Element Ordering</h3><p><strong><em>HashMap</em> does not maintain any order</strong> for its elements i.e. it won’t provide any guarantee that the element inserted first in the map will print first during the iteration of the map.</p>
<p><strong><em>TreeMap</em> stores the elements in the sorting order of their keys.</strong> The sorting can be default natural sorting order (ascending order for numbers &amp; alphabetical order for strings) or customized sorting based on the <a target="_blank" rel="noopener" href="https://howtodoinjava.com/java/collections/java-comparator/"><em>Comparator</em></a> object specified during the map creation.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// Creating HashMap</span><br>HashMap&lt;Integer, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br><br><span class="hljs-comment">// Putting values in the map</span><br>map.put(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;value1&quot;</span>);<br>map.put(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;value2&quot;</span>);<br>map.put(<span class="hljs-number">13</span>, <span class="hljs-string">&quot;value3&quot;</span>);<br>map.put(<span class="hljs-number">5</span>, <span class="hljs-string">&quot;value4&quot;</span>);<br>map.put(<span class="hljs-number">25</span>, <span class="hljs-string">&quot;value5&quot;</span>);<br><br><span class="hljs-comment">// Printing map</span><br>System.out.println(map);   <span class="hljs-comment">//&#123;2=value2, 5=value4, 25=value5, 10=value1, 13=value3&#125;  - No ordering</span><br><br><span class="hljs-comment">// Creating TreeMap using normal TreeMap() constructor which sorts the elements </span><br><span class="hljs-comment">// based on natural sorting order of keys</span><br>TreeMap&lt;Integer, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;&gt;();<br><br><span class="hljs-comment">// Putting values in map</span><br>map.put(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;value1&quot;</span>);<br>map.put(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;value2&quot;</span>);<br>map.put(<span class="hljs-number">13</span>, <span class="hljs-string">&quot;value3&quot;</span>);<br>map.put(<span class="hljs-number">5</span>, <span class="hljs-string">&quot;value4&quot;</span>);<br>map.put(<span class="hljs-number">25</span>, <span class="hljs-string">&quot;value5&quot;</span>);<br><br><span class="hljs-comment">// Printing map</span><br>System.out.println(map);  <span class="hljs-comment">//&#123;2=value2, 5=value4, 10=value1, 13=value3, 25=value5&#125;</span><br></code></pre></td></tr></table></figure>


<p>​    </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// Creating TreeMap using TreeMap(Comparator) constructor by specifying Comparator object </span><br><span class="hljs-comment">// as Lambda expression which sorts the elements according to customized sorting of keys</span><br>map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;Integer,String&gt;((I1,I2) -&gt; (I1&lt;I2) ? <span class="hljs-number">1</span> : (I1&gt;I2) ? -<span class="hljs-number">1</span> : <span class="hljs-number">0</span>); <br><br><span class="hljs-comment">// Putting values in map</span><br>map.put(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;value1&quot;</span>);<br>map.put(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;value2&quot;</span>);<br>map.put(<span class="hljs-number">13</span>, <span class="hljs-string">&quot;value3&quot;</span>);<br>map.put(<span class="hljs-number">5</span>, <span class="hljs-string">&quot;value4&quot;</span>);<br>map.put(<span class="hljs-number">25</span>, <span class="hljs-string">&quot;value5&quot;</span>);<br><br><span class="hljs-comment">// Printing map</span><br>System.out.println(map);  <span class="hljs-comment">//&#123;25=value5, 13=value3, 10=value1, 5=value4, 2=value2&#125;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-6-Performance-Comparison"><a href="#1-6-Performance-Comparison" class="headerlink" title="1.6. Performance Comparison"></a>1.6. Performance Comparison</h3><ul>
<li>  <strong><em>HashMap</em> is faster than <em>TreeMap</em></strong> and provides constant time performance <strong>O(1)</strong> for the most basic operations like <code>get(), put(), contains() &amp; remove()</code> in the best case scenario without hash collisions.</li>
<li>  In case of <strong>hash collisions</strong> (two keys are having the same hashcode), <em>HashMap</em> handles it by using a <em>LinkedList</em> to store the collided elements and hence the performance reduces up to <strong>O(n)</strong> in this case.</li>
<li>  To improve <em>HashMap’s</em> performance during collisions, <em>LinkedList</em> transforms into a <em>Balanced Tree</em> in case the number of entries in a bucket are more than 8 so that it improves the worst-case performance from <strong>O(n) to O(log(n)).</strong></li>
</ul>
<p>On the other hand, <em>TreeMap</em> provides a performance of <strong><em>O(log(n))</em></strong> for most basic operations like <code>get(), put(), contains() &amp; remove()</code>.</p>
<h3 id="1-7-Memory-Usage"><a href="#1-7-Memory-Usage" class="headerlink" title="1.7. Memory Usage"></a>1.7. Memory Usage</h3><p><strong><em>TreeMap</em> has better performance in memory management as it does not maintain an array internally</strong> to store key-value pairs.</p>
<p>In <em>HashMap</em>, the array size is determined while initialization or resizing which is often more than needed at the time. It wastes memory. There is no such problem with <em>TreeMap</em>.</p>
<h3 id="1-8-Key-Searches"><a href="#1-8-Key-Searches" class="headerlink" title="1.8. Key Searches"></a>1.8. Key Searches</h3><p><em>HashMap</em> uses <code>hashCode()</code> and <code>equals()</code> method while comparing the keys of the map while <em>TreeMap</em> uses <code>compareTo()</code> or <code>compare()</code> methods during key comparison.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// Creating HashMap</span><br>HashMap&lt;Integer, String&gt; hashMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br><br><span class="hljs-comment">// Putting values in map</span><br>hashMap.put(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;value1&quot;</span>);<br>hashMap.put(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;value2&quot;</span>);<br>System.out.println(<span class="hljs-string">&quot;HashMap: &quot;</span> + hashMap);<br><br><span class="hljs-comment">// Creating TreeMap</span><br>TreeMap&lt;Integer, String&gt; treeMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;&gt;();<br><br><span class="hljs-comment">// Putting values in map</span><br>treeMap.put(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;value1&quot;</span>);<br>treeMap.put(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;value2&quot;</span>);<br>System.out.println(<span class="hljs-string">&quot;TreeMap: &quot;</span> + treeMap);<br></code></pre></td></tr></table></figure>

<p>Notice the program output. Even though the output is same for both cases, internally <em>HashMap</em> uses <strong><em>equals()</em> while comparing the keys</strong> and rejects the second key as it is a duplicate. Whereas, <em>TreeMap</em> uses <strong><em>compareTo()</em> while comparing keys</strong> and thus rejects the second key.</p>
<p>Also, both the maps update the previous entry, and a single entry is there on the <em>Map</em>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">HashMap: &#123;<span class="hljs-number">10</span>=value2&#125;<br>TreeMap: &#123;<span class="hljs-number">10</span>=value2&#125;<br></code></pre></td></tr></table></figure>

<h2 id="2-When-to-use-HashMap-and-TreeMap"><a href="#2-When-to-use-HashMap-and-TreeMap" class="headerlink" title="2. When to use HashMap and TreeMap"></a><strong>2</strong>. When to use HashMap and TreeMap</h2><p>We should use <em>TreeMap</em> if we need to add elements (key-value pairs) in sorted order. Let’s take an example of creating a <strong>Dictionary</strong> where the words sort in alphabetical order. So we can easily implement this using a <em>TreeMap</em>.</p>
<p>A <em>TreeMap</em> is more <strong>memory efficient,</strong> so it is a good map implementation for us in case we are not sure of the number of elements to be stored in the memory.</p>
<p><em><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html">HashMap</a></em> is more of a general purpose map implementation and can be used where we don’t want any kind of sorting for our data, and the entries can be maintained in any order or sequence. In high-performance applications, we can prefer using <em>HashMap</em> over <em>TreeMap</em> as it performs better as compared to <em><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html">TreeMap</a></em>.</p>
<h2 id="3-Conclusion"><a href="#3-Conclusion" class="headerlink" title="3. Conclusion"></a>3. Conclusion</h2><p>In this post, we have seen some of the key differences between <em>HashMap</em> and <em>TreeMap</em> and on which factors we can decide between the two while using them in our code.</p>
<p>Happy Learning !!</p>
<h2 id="4-References"><a href="#4-References" class="headerlink" title="4.References"></a>4.References</h2><ul>
<li><a target="_blank" rel="noopener" href="https://howtodoinjava.com/java/collections/java-treemap-vs-hashmap/">Java TreeMap vs HashMap</a></li>
</ul>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/IT/" class="category-chain-item">IT</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/java/">#java</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Java TreeMap vs HashMap</div>
      <div>https://baymax55.github.io/2022/08/15/java/Java TreeMap vs HashMap/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>baymax55</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年8月15日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/08/15/java/Java%E4%B8%ADfield%E5%92%8Cproperty%E7%9A%84%E5%8C%BA%E5%88%AB/" title="Java中field和property的区别">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Java中field和property的区别</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/08/15/mysql/%E4%BA%8C%E5%8F%89%E6%A0%91,%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91,B-Tree,B+Tree/" title="二叉树,平衡二叉树,B-Tree,B+Tree">
                        <span class="hidden-mobile">二叉树,平衡二叉树,B-Tree,B+Tree</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.4.16/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"eHrEoB5dKeqkOQe92av9bqEs-MdYXbMMI","appKey":"ldBS29kjWy4gjD9MCWKAWxyi","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":true,"recordIP":true,"serverURLs":"https://ehreob5d.api.lncldglobal.com","emojiCDN":null,"emojiMaps":null,"enableQQ":true},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        总访问量 
        <span id="leancloud-site-pv"></span>
         次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        总访问客数 
        <span id="leancloud-site-uv"></span>
         人
      </span>
    
    

  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  

  

  

  

  

  

  
    
  




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="/js/leancloud.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
